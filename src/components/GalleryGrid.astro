---
import fs from 'fs';
import path from 'path';

// Read all images from the local folder
const galleryDir = '/home/pbrewer/dev/collectionweb/src/assets/gallery';
const files = fs.readdirSync(galleryDir)
  .filter(file => /\.(jpe?g|png|gif|webp|avif)$/i.test(file));

const images = files.map(file => `/src/assets/gallery/${file}`);
---

<div class="container my-5">
  <div class="row g-4">
    {images.map(img => (
      <div class="col-6 col-md-4 col-lg-3">
        <div class="card border-0 shadow-sm h-100">
          <a href={img} target="_blank" class="text-decoration-none">
            <img src={img} class="card-img-top rounded" alt={img.split('/').pop()} loading="lazy" />
          </a>
        </div>
      </div>
    ))}
  </div>
</div>

<style>
  img {
    transition: transform 0.2s ease-in-out;
  }
  img:hover {
    transform: scale(1.03);
  }
</style>
